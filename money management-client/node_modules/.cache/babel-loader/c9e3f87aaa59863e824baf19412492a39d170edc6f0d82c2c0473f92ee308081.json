{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import Card from'../UI/Card';import ExpenseFilter from'./ExpenseFilter';import ExpenseList from'./ExpenseList';import ExpensesChart from'./ExpensesChart';import'./NewExpenseItem.css';import{getMoney,deleteMoney}from'../redux/features/dataSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewExpenseItem(){const dispatch=useDispatch();const expenses=useSelector(state=>state.data.data.items)||[];// console.log(expenses)\nconst loading=useSelector(state=>state.data.loading);const error=useSelector(state=>state.data.error);const[filterYear,setFilterYear]=useState('2024');useEffect(()=>{dispatch(getMoney());},[dispatch]);const filterChangeHandler=yearSelected=>{setFilterYear(yearSelected);};const deleteExpenseHandler=id=>{dispatch(deleteMoney(id));};const filteredExpenses=expenses.filter(expense=>{const date=new Date(expense.date);return date.getFullYear().toString()===filterYear;});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Card,{className:\"expenses\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}),/*#__PURE__*/_jsx(ExpenseFilter,{selected:filterYear,onFilterChange:filterChangeHandler}),/*#__PURE__*/_jsx(ExpensesChart,{expenses:filteredExpenses}),/*#__PURE__*/_jsx(ExpenseList,{items:filteredExpenses,onDeleteExpense:deleteExpenseHandler})]})});}","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","Card","ExpenseFilter","ExpenseList","ExpensesChart","getMoney","deleteMoney","jsx","_jsx","jsxs","_jsxs","NewExpenseItem","dispatch","expenses","state","data","items","loading","error","filterYear","setFilterYear","filterChangeHandler","yearSelected","deleteExpenseHandler","id","filteredExpenses","filter","expense","date","Date","getFullYear","toString","children","className","selected","onFilterChange","onDeleteExpense"],"sources":["C:/Users/Admin/Desktop/Money/money management-client/src/components/Expenses/NewExpenseItem.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Card from '../UI/Card';\r\nimport ExpenseFilter from './ExpenseFilter';\r\nimport ExpenseList from './ExpenseList';\r\nimport ExpensesChart from './ExpensesChart';\r\nimport './NewExpenseItem.css';\r\nimport { getMoney, deleteMoney } from '../redux/features/dataSlice';\r\n\r\nexport default function NewExpenseItem() {\r\n  const dispatch = useDispatch();\r\n  const expenses = useSelector((state) => state.data.data.items) || [];\r\n  // console.log(expenses)\r\n  const loading = useSelector((state) => state.data.loading);\r\n  const error = useSelector((state) => state.data.error);\r\n  const [filterYear, setFilterYear] = useState('2024');\r\n\r\n  useEffect(() => {\r\n    dispatch(getMoney());\r\n  }, [dispatch]);\r\n\r\n  const filterChangeHandler = (yearSelected) => {\r\n    setFilterYear(yearSelected);\r\n  };\r\n\r\n  const deleteExpenseHandler = (id) => {\r\n    dispatch(deleteMoney(id));\r\n  };\r\n\r\n  const filteredExpenses = expenses.filter((expense) => {\r\n    const date = new Date(expense.date);\r\n    return date.getFullYear().toString() === filterYear;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <Card className=\"expenses\">\r\n        {loading && <p>Loading...</p>}\r\n        {error && <p>Error: {error}</p>}\r\n        <ExpenseFilter selected={filterYear} onFilterChange={filterChangeHandler} />\r\n        <ExpensesChart expenses={filteredExpenses} />\r\n        <ExpenseList items={filteredExpenses} onDeleteExpense={deleteExpenseHandler} />\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,sBAAsB,CAC7B,OAASC,QAAQ,CAAEC,WAAW,KAAQ,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpE,cAAe,SAAS,CAAAC,cAAcA,CAAA,CAAG,CACvC,KAAM,CAAAC,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,QAAQ,CAAGb,WAAW,CAAEc,KAAK,EAAKA,KAAK,CAACC,IAAI,CAACA,IAAI,CAACC,KAAK,CAAC,EAAI,EAAE,CACpE;AACA,KAAM,CAAAC,OAAO,CAAGjB,WAAW,CAAEc,KAAK,EAAKA,KAAK,CAACC,IAAI,CAACE,OAAO,CAAC,CAC1D,KAAM,CAAAC,KAAK,CAAGlB,WAAW,CAAEc,KAAK,EAAKA,KAAK,CAACC,IAAI,CAACG,KAAK,CAAC,CACtD,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGvB,QAAQ,CAAC,MAAM,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACdc,QAAQ,CAACP,QAAQ,CAAC,CAAC,CAAC,CACtB,CAAC,CAAE,CAACO,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAS,mBAAmB,CAAIC,YAAY,EAAK,CAC5CF,aAAa,CAACE,YAAY,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAC,oBAAoB,CAAIC,EAAE,EAAK,CACnCZ,QAAQ,CAACN,WAAW,CAACkB,EAAE,CAAC,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGZ,QAAQ,CAACa,MAAM,CAAEC,OAAO,EAAK,CACpD,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,OAAO,CAACC,IAAI,CAAC,CACnC,MAAO,CAAAA,IAAI,CAACE,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,GAAKZ,UAAU,CACrD,CAAC,CAAC,CAEF,mBACEX,IAAA,QAAAwB,QAAA,cACEtB,KAAA,CAACT,IAAI,EAACgC,SAAS,CAAC,UAAU,CAAAD,QAAA,EACvBf,OAAO,eAAIT,IAAA,MAAAwB,QAAA,CAAG,YAAU,CAAG,CAAC,CAC5Bd,KAAK,eAAIR,KAAA,MAAAsB,QAAA,EAAG,SAAO,CAACd,KAAK,EAAI,CAAC,cAC/BV,IAAA,CAACN,aAAa,EAACgC,QAAQ,CAAEf,UAAW,CAACgB,cAAc,CAAEd,mBAAoB,CAAE,CAAC,cAC5Eb,IAAA,CAACJ,aAAa,EAACS,QAAQ,CAAEY,gBAAiB,CAAE,CAAC,cAC7CjB,IAAA,CAACL,WAAW,EAACa,KAAK,CAAES,gBAAiB,CAACW,eAAe,CAAEb,oBAAqB,CAAE,CAAC,EAC3E,CAAC,CACJ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}