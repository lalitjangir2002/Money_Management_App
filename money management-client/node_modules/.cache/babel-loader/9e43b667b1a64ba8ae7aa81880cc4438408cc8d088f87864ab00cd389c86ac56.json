{"ast":null,"code":"import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import'./NewExpense.css';import{getMoney,postMoney}from'../redux/features/dataSlice';import CustomSnackBar from'../UI/CustomSnackBar';import CustomBackDrop from'../UI/CustomBackDrop';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function NewExpense(){const dispatch=useDispatch();// const loadingFromRedux = useSelector((state) => state.data.data.loading);\nconst error=useSelector(state=>state.data.error);const[addExpense,setAddExpense]=useState(false);const[enteredTitle,setEnteredTitle]=useState('');const[enteredAmount,setEnteredAmount]=useState('');const[enteredDate,setEnteredDate]=useState('');const[loading,setLoading]=useState(false);const[snackbarOpen,setSnackbarOpen]=useState(false);const[snackbarMessage,setSnackbarMessage]=useState('');const[snackbarSeverity,setSnackbarSeverity]=useState('success');const addExpenseHandler=()=>{setAddExpense(true);};const triggerSnackbar=function(message){let severity=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setSnackbarMessage(message);setSnackbarSeverity(severity);setSnackbarOpen(true);};const handleSnackbarClose=()=>{setSnackbarOpen(false);};const saveExpenseDataHandler=async enteredExpenseData=>{setLoading(true);try{await dispatch(postMoney(enteredExpenseData));dispatch(getMoney());setAddExpense(false);triggerSnackbar('Expense added successfully!');}catch(error){console.error(\"Error posting data: \",error);triggerSnackbar('Failed to add expense','error');}finally{setLoading(false);}};const submitHandler=event=>{event.preventDefault();const expenseData={title:enteredTitle,amount:+enteredAmount,date:enteredDate};saveExpenseDataHandler(expenseData);setEnteredTitle('');setEnteredAmount('');setEnteredDate('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense\",children:[error&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}),loading&&/*#__PURE__*/_jsx(CustomBackDrop,{loading:loading}),addExpense?/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:enteredTitle,onChange:e=>setEnteredTitle(e.target.value),disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0.01\",step:\"0.01\",value:enteredAmount,onChange:e=>setEnteredAmount(e.target.value),disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__control\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",min:\"2020-01-01\",max:\"2027-12-31\",value:enteredDate,onChange:e=>setEnteredDate(e.target.value),disabled:loading})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"new-expense__actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:()=>setAddExpense(false),disabled:loading,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",disabled:loading,children:loading?'Adding...':'Add Expense'})]})]}):/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:addExpenseHandler,children:\"Add Expenses\"}),/*#__PURE__*/_jsx(CustomSnackBar,{snackbarOpen:snackbarOpen,handleSnackbarClose:handleSnackbarClose,snackbarSeverity:snackbarSeverity,snackbarMessage:snackbarMessage})]});}","map":{"version":3,"names":["React","useState","useDispatch","useSelector","getMoney","postMoney","CustomSnackBar","CustomBackDrop","jsxs","_jsxs","jsx","_jsx","NewExpense","dispatch","error","state","data","addExpense","setAddExpense","enteredTitle","setEnteredTitle","enteredAmount","setEnteredAmount","enteredDate","setEnteredDate","loading","setLoading","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","snackbarSeverity","setSnackbarSeverity","addExpenseHandler","triggerSnackbar","message","severity","arguments","length","undefined","handleSnackbarClose","saveExpenseDataHandler","enteredExpenseData","console","submitHandler","event","preventDefault","expenseData","title","amount","date","className","children","onSubmit","type","value","onChange","e","target","disabled","min","step","max","onClick"],"sources":["C:/Users/Admin/Desktop/Money/money management-client/src/components/NewExpense/NewExpense.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport './NewExpense.css';\r\nimport { getMoney, postMoney } from '../redux/features/dataSlice';\r\nimport CustomSnackBar from '../UI/CustomSnackBar';\r\nimport CustomBackDrop from '../UI/CustomBackDrop';\r\n\r\nexport default function NewExpense() {\r\n  const dispatch = useDispatch();\r\n  // const loadingFromRedux = useSelector((state) => state.data.data.loading);\r\n  const error = useSelector((state) => state.data.error);\r\n\r\n  const [addExpense, setAddExpense] = useState(false);\r\n  const [enteredTitle, setEnteredTitle] = useState('');\r\n  const [enteredAmount, setEnteredAmount] = useState('');\r\n  const [enteredDate, setEnteredDate] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [snackbarMessage, setSnackbarMessage] = useState('');\r\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\r\n\r\n  const addExpenseHandler = () => {\r\n    setAddExpense(true);\r\n  };\r\n\r\n\r\n\r\n  const triggerSnackbar = (message, severity = 'success') => {\r\n    setSnackbarMessage(message);\r\n    setSnackbarSeverity(severity);\r\n    setSnackbarOpen(true);\r\n  };\r\n\r\n  const handleSnackbarClose = () => {\r\n    setSnackbarOpen(false);\r\n  };\r\n\r\n  const saveExpenseDataHandler = async (enteredExpenseData) => {\r\n    setLoading(true);\r\n    try {\r\n      await dispatch(postMoney(enteredExpenseData));\r\n      dispatch(getMoney());\r\n      setAddExpense(false);\r\n      triggerSnackbar('Expense added successfully!');\r\n    } catch (error) {\r\n      console.error(\"Error posting data: \", error);\r\n      triggerSnackbar('Failed to add expense', 'error');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const expenseData = {\r\n      title: enteredTitle,\r\n      amount: +enteredAmount,\r\n      date: enteredDate\r\n    };\r\n\r\n    saveExpenseDataHandler(expenseData);\r\n    setEnteredTitle('');\r\n    setEnteredAmount('');\r\n    setEnteredDate('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"new-expense\">\r\n      {/* {loadingFromRedux && <p>Loading...</p>} */}\r\n      {error && <p>Error: {error}</p>}\r\n      {loading && (\r\n        <CustomBackDrop loading={loading}/>\r\n      )}\r\n      {addExpense ? (\r\n        <form onSubmit={submitHandler}>\r\n          <div className=\"new-expense__controls\">\r\n            <div className=\"new-expense__control\">\r\n              <label>Title</label>\r\n              <input \r\n                type=\"text\" \r\n                value={enteredTitle} \r\n                onChange={(e) => setEnteredTitle(e.target.value)} \r\n                disabled={loading}\r\n              />\r\n            </div>\r\n            <div className=\"new-expense__control\">\r\n              <label>Amount</label>\r\n              <input \r\n                type=\"number\" \r\n                min=\"0.01\" \r\n                step=\"0.01\" \r\n                value={enteredAmount} \r\n                onChange={(e) => setEnteredAmount(e.target.value)} \r\n                disabled={loading}\r\n              />\r\n            </div>\r\n            <div className=\"new-expense__control\">\r\n              <label>Date</label>\r\n              <input \r\n                type=\"date\" \r\n                min=\"2020-01-01\" \r\n                max=\"2027-12-31\" \r\n                value={enteredDate} \r\n                onChange={(e) => setEnteredDate(e.target.value)} \r\n                disabled={loading}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"new-expense__actions\">\r\n            <button type=\"button\" className='btn' onClick={() => setAddExpense(false)} disabled={loading}>\r\n              Cancel\r\n            </button>\r\n            <button className='btn' type=\"submit\" disabled={loading}>\r\n              {loading ? 'Adding...' : 'Add Expense'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      ) : (\r\n        <button className=\"btn\" onClick={addExpenseHandler}>Add Expenses</button>\r\n      )}\r\n      <CustomSnackBar\r\n        snackbarOpen={snackbarOpen}\r\n        handleSnackbarClose={handleSnackbarClose}\r\n        snackbarSeverity={snackbarSeverity}\r\n        snackbarMessage={snackbarMessage}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}